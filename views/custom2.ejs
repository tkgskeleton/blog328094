<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Night Ultimate</title>
    <link rel="stylesheet" href="/css/gameStyles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet">
    <script src="/js/gameScript.js" defer></script>
</head>

<body>
    <div id="scanlines"></div>
    <div id="vignette"></div>

    <!-- Main Menu -->
    <div id="menu-screen" class="screen active">
        <h1 class="glitch" data-text="CUSTOM NIGHT ULTIMATE">CUSTOM NIGHT ULTIMATE</h1>

        <div class="setup-container">
            <div class="panel preset-panel">
                <h2>PRESETS</h2>
                <div class="preset-grid" id="preset-list">
                    <!-- Populated by JS -->
                </div>
            </div>

            <div class="panel config-panel">
                <div class="time-select">
                    <h3>CHALLENGE DURATION</h3>
                    <div class="radio-group">
                        <label><input type="radio" name="duration" value="60"> <span>SPEED (1m)</span></label>
                        <label><input type="radio" name="duration" value="180" checked> <span>DEFAULT
                                (3m)</span></label>
                        <label><input type="radio" name="duration" value="360"> <span>LONG (6m)</span></label>
                    </div>
                </div>

                <div class="modes-select" style="margin-top:20px;">
                    <h3>GAME MODES</h3>
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="aggressive-mode">
                            <span style="color:var(--accent-red);">AGGRESSIVE (Fast AI)</span>
                        </label>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="chaos-mode">
                            <span style="color:var(--accent-purple);">CHAOS (Random AI)</span>
                        </label>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="blackout-mode">
                            <span style="color:#888;">BLACKOUT (Power Fail)</span>
                        </label>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="shop-mode">
                            <span style="color:var(--accent-yellow);">SHOP (Economy)</span>
                        </label>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="random-mode">
                            <span style="color:white;">RANDOM (Dynamic)</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="character-select" id="character-grid">
            <!-- 12 Mini-game Selectors populated by JS -->
        </div>

        <div class="menu-actions">
            <div class="points-display">SCORE: <span id="total-score">0</span></div>
            <div class="coins-display" style="display:none; color:var(--accent-yellow);">COINS: <span
                    id="total-coins">0</span></div>
            <button id="start-btn" class="cyber-btn">BEGIN NIGHT</button>
        </div>
    </div>

    <!-- Game Dashboard -->
    <div id="game-screen" class="screen">
        <div class="header-hud">
            <div class="time-display" id="time-display">00:00</div>
            <div class="coin-hud" style="font-size:1.5rem; color:var(--accent-yellow); display:none;" id="coin-hud">
                COINS: <span id="game-coins">0</span></div>
            <div class="usage-display">USAGE: <span id="usage-bar">|||||</span></div>
        </div>

        <div class="dashboard-grid" id="dashboard-grid">
            <!-- 12 Mini-game Modules inserted here -->
        </div>

        <!-- Flashlight Overlay -->
        <div id="flashlight-overlay"></div>
    </div>

    <!-- Game Over / Win Screen -->
    <div id="result-screen" class="screen overlay-screen">
        <h1 id="result-title">GAME OVER</h1>
        <p id="result-message">Reason: ...</p>
        <button id="retry-btn" class="cyber-btn">RETURN TO MENU</button>
    </div>

    <!-- Death Coin Button (Shop Mode) -->
    <div id="death-coin-container" style="position:fixed; bottom:20px; right:20px; display:none; z-index:1000;">
        <button id="buy-death-coin" class="cyber-btn"
            style="border-color:var(--accent-yellow); color:var(--accent-yellow);">
            BUY DEATH COIN (10c)
        </button>
    </div>

    <!-- Audio Context Warning (for autoplay policy) -->
    <div id="audio-init-overlay" class="screen overlay-screen active"
        style="background: rgba(0,0,0,0.9); z-index: 9999;">
        <h1>SYSTEM INITIALIZATION</h1>
        <button id="init-audio-btn" class="cyber-btn">CLICK TO START</button>
    </div>

    <script src="script.js"></script>
</body>

</html>
